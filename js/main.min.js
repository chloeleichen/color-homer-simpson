!function(){function t(){return window.pageXOffset||l.scrollLeft}function e(){return window.pageYOffset||l.scrollTop}function n(n){var a=n.getBoundingClientRect();return{top:a.top+e(),left:a.left+t()}}function a(t){var e=t.target,n=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,a=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.transform=e.style.webkitTransform="translate("+n+"px, "+a+"px)",e.style.zIndex=1e4,e.setAttribute("data-x",n),e.setAttribute("data-y",a)}function r(t){t.style.transform=t.style.webkitTransform="none",t.style.zIndex=1,t.setAttribute("data-x",0),t.setAttribute("data-y",0)}function i(){document.querySelector("button.info-close").addEventListener("click",function(){var t=document.querySelector(".info-wrap");t.parentNode.removeChild(t)}),interact(".drag-element").draggable({inertia:!0,onmove:a,onend:function(t){classie.has(t.target,"drag-element--dropped")||classie.has(t.target,"drag-element--dropped-text")||r(t.target)}}),interact(".paint-area").dropzone({accept:".drag-element",overlap:.75,ondragenter:function(t){classie.add(t.target,"paint-area--highlight")},ondragleave:function(t){classie.remove(t.target,"paint-area--highlight")},ondrop:function(t){var e="area";classie.has(t.target,"paint-area--text")&&(e="text"),classie.has(t.target,"paint-area--svg")&&(e="svg");var n=t.relatedTarget;classie.add(n,"text"===e?"drag-element--dropped-text":"drag-element--dropped");var a=function(){this.removeEventListener(c,a),("area"===e||"svg"===e)&&o(t.dragEvent,t.target,n.getAttribute("data-color")),setTimeout(function(){r(n),classie.remove(n,"text"===e?"drag-element--dropped-text":"drag-element--dropped")},"text"===e?0:250)};"text"===e&&o(t.dragEvent,t.target,n.getAttribute("data-color")),n.querySelector(".drop").addEventListener(c,a)},ondropdeactivate:function(t){classie.remove(t.target,"paint-area--highlight")}}),document.querySelector("button.reset-button").addEventListener("click",s)}function o(t,e,a){var r="area";if(classie.has(e,"paint-area--text")&&(r="text"),classie.has(e,"paint-area--svg")&&(r="svg"),console.log(r),"area"===r||"svg"===r){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"version","1.1"),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.setAttributeNS(null,"class","paint");var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"transform","translate("+Number(t.pageX-n(e).left)+", "+Number(t.pageY-n(e).top)+")");var s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttributeNS(null,"cx",0),s.setAttributeNS(null,"cy",0),s.setAttributeNS(null,"r",Math.sqrt(Math.pow(e.offsetWidth,2)+Math.pow(e.offsetHeight,2))),s.setAttributeNS(null,"fill",a),i.appendChild(o),o.appendChild(s),e.appendChild(i)}setTimeout(function(){if(classie.add(e,"paint--active"),"text"===r){e.style.color=a;var t=function(n){n.target==this&&(this.removeEventListener(c,t),classie.remove(e,"paint--active"))};e.addEventListener(c,t)}else if("svg"===r){var n=function(){this.removeEventListener(c,t),e.setAttribute("fill",a),e.setAttribute("stroke",a),e.removeChild(i),setTimeout(function(){classie.remove(e,"paint--active")},25)};e.style.transition=e.style.MSTransitionEnd=e.style.OTransition=e.style.MozTransition=e.style.WebkitTransition="none",e.style.transition=e.style.MSTransitionEnd=e.style.OTransition=e.style.MozTransition=e.style.WebkitTransition="fill 0.4s ease-in-out, stroke 0.4s ease-in-out",setTimeout(function(){n()},200)}else{var t=function(n){n.target==this&&"fill-opacity"!==n.propertyName&&(this.removeEventListener(c,t),e.style.backgroundColor=a,e.removeChild(i),setTimeout(function(){classie.remove(e,"paint--active")},25))};s.addEventListener(c,t)}},25)}function s(){[].slice.call(document.querySelectorAll(".paint-area")).forEach(function(t){t.style[classie.has(t,"paint-area--text")?"color":"background-color"]="",t.setAttribute("fill"," #fafafa"),t.setAttribute("stroke"," #999999")})}var l=window.document.documentElement,d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},c=d[Modernizr.prefixed("transition")];i()}();